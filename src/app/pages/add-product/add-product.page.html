<ion-content>
    <div *ngIf="isOpenCalendar" class="calendar-background"></div>
    <div class="main">
        <div class="top-container">
            <div class="page-title ion-margin-top ion-text-center">
                Ürün ekle
            </div>
        </div>
        <div class="main-content">
            <div class="exit-container">
                <ion-back-button defaultHref="/app" color="light" icon="close" text=""></ion-back-button>
                <!--<img src="../../../assets/svg/abstract/exit.svg" alt="Icon">-->
            </div>
            <div class="mw-500-tablet">

                <div class="ion-margin-bottom">
                    <input [(ngModel)]="name" placeholder="Ürün Başlığı">
                </div>
                <div class="ion-margin-bottom">
                    <ion-input [(ngModel)]="url" (ionChange)="onLinkChange()" placeholder="Ürün linki"></ion-input>
                </div>
                <ion-button (click)="selectImage()" fill="outline" class="image-container ion-margin-bottom">
                    <div *ngIf="postImage == null && (mediaUrl == null || mediaUrl.length == 0)" class="select-image">
                        <div>
                            <ion-icon name="image-outline"></ion-icon>
                        </div>
                        <div>Ürün görseli seçin</div>
                    </div>
                    <div class="image" *ngIf="postImage">
                        <img [src]="postImage" alt="">
                    </div>
                    <div class="image" *ngIf="mediaUrl != undefined && mediaUrl.length>0">
                        <img [src]="mediaUrl" alt="">
                    </div>
                </ion-button>
                <div class="ion-margin-bottom">
                    <input [(ngModel)]="brand" placeholder="Marka">
                </div>
                <div class="ion-margin-bottom">
                    <input [(ngModel)]="model" placeholder="Model">
                </div>
                <div class="ion-margin-bottom">
                    <input [(ngModel)]="color" placeholder="Renk">
                </div>
                <div class="ion-margin-bottom">
                    <input [(ngModel)]="size" placeholder="Beden veya Kapasite">
                </div>
                <div *ngIf="hasActivities" class="ion-margin-bottom">
                    <ion-select [(ngModel)]="activityId" placeholder="Etkinlik" okText="Tamam" cancelText="İptal">
                        <ion-select-option *ngFor="let activity of activities" [value]="activity.id">{{ activity.name }}
                        </ion-select-option>
                    </ion-select>
                </div>
                <!--
                <div class="ion-margin-bottom" hidden>
                  <p-calendar placeholder="Takvim" (onShow)="calendarOpen()" (onClose)="calendarClose()" [(ngModel)]="date">
                    <ng-template pTemplate="footer">
                      <div class="calendar-input-container d-flex ion-align-items-center">
                        <input [(ngModel)]="activity" class="ion-margin-end" type="text" pInputText />
                        <div class="d-flex"><img src="../../../assets/svg/home/file.svg" alt="Icon"></div>
                      </div>
                    </ng-template>
                  </p-calendar>
                </div>
              -->
                <div class="mb-32">
                    <input [(ngModel)]="description" placeholder="Açıklama">
                </div>
                <div>
                    <ion-button *ngIf="postId == 0" color="primary" fill="outline" expand="block" [disabled]="isLoading"
                        (click)="savePost()">{{ isLoading ? 'Kaydediliyor...' : 'Kaydet'}}</ion-button>
                    <ion-button class="mb-1" *ngIf="postId > 0" color="primary" fill="outline" expand="block"
                        [disabled]="isLoading" (click)="savePost()">{{ isLoading ? 'Güncelleniyor...' : 'Güncelle'}}
                    </ion-button>

                </div>
                <div *ngIf="postId > 0" class="mt-3 w-500-tablet ion-text-center">
                    <ion-button class="rounded ion-text-capitalize" color="danger" fill="outline" expand="block"
                        [disabled]="isLoading" (click)="deletePost()">{{ isLoading ? 'Siliniyor...' : 'Ürünü Sil'}}
                    </ion-button>
                </div>
            </div>

        </div>
    </div>
</ion-content>